<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>lol</title>
    <link rel="stylesheet" type="text/css" href="global.css">
    <style>
      body {
        margin: 10px;
      }
      .box {
        font-size: 22px;
        display: inline-block;
        vertical-align: top;
        margin: 10px;
      }
      .box .box_header {
        font-size: 1.1em;
      }
      .function {
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .text_function {
        font-size: .75em;
        color: hsl(0, 0%, 75%);
        padding: 5px;
        flex-wrap: wrap;
      }
      #function_1 span {
        margin: 13px 6px;
        border-bottom: 2px solid rgba(229, 255, 164, .1);
        padding: 3px;
      }
      .input_container {
        display: flex;
        justify-content: flex-start;
        padding: 5px 5px 7px;
        background-color: hsl(0, 0%, 14%);
      }
      .input_box {
        font-size: .78em;
        margin: 0 7px 3px;
        display: flex;
        flex-direction: column;
        min-width: 150px;
        padding: 8px;
      }
      .input {
        border: none;
        box-shadow: 0 1px 7px hsla(0, 0%, 14%, .82);
        background: hsl(0, 0%, 23%);
        color: hsl(0, 0%, 77%);
        border-radius: 2px;
        padding: 3px 6px;
        height: 17px;
        width: auto;
      }
      .input_box .input_header {
        margin-bottom: 3px;
        color: hsl(0, 0%, 70%);
      }
      .button {
        cursor: pointer;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
        justify-content: center;
        align-items: center;
      }
      .knobber {
        position: relative;
        cursor: pointer;
      }
      .knobber .knob {
        position: absolute;
        left: 6px;
        height: 17px;
        width: 17px;
        box-shadow: 0 1px 5px hsla(0, 0%, 22%, .8);
        background-color: hsl(0, 0%, 13%);
        border-radius: 100%;
        transition: .3s;
      }
      .knobber.active .knob {
        transform: translate(122px);
        background-color: rgba(62, 147, 141, 0.4);
      }
      .axisbutton.x.active .knob {
        background-color: #784452;
      }
      .axisbutton.y.active .knob {
        background-color: #1F6C6B;
      }
      .axisbutton.z.active .knob {
        background-color: #046CA5;
      }
      /*body.translucentaxes .axes_container {
        z-index: 1000;
      }*/
      .slider {
        padding: 3px 12px;
      }
      .slider .knob {
        background-color: hsl(0, 0%, 13%);
        left: 2.5px;
        transition: none;
      }
      .slider.rotate {
        width: 360px;
      }
      .face {
        position: absolute;
        outline: 1px solid transparent;
      }
      .box_content {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 450px;
        height: 450px;
      }
      .container_3d {
        transform-style: preserve-3d;
      }

      .axes_x .axis {
        background-color: #784452;
      }
      .axes_y .axis {
        background-color: #1F6C6B;
      }
      .axes_z .axis {
        background-color: #046CA5;
      }
      .axes_x {
        transform: rotate3d(1, 1, 1, 0deg) translateZ(50px) translateY(50px) translatex(-50px);
      }
      .axes_y {
        transform: rotate3d(1, 1, 1, 120deg) translateZ(50px) translateY(-50px) translatex(50px);
      }
      .axes_z {
        transform: rotate3d(1, 1, 1, 240deg) translateZ(-50px) translateY(-50px) translatex(-50px);
      }
      .axis.end {
        width: 2px;
        height: 2px;
      }
      .axis.side {
        width: 200px;
        height: 2px;
      }
      .axis.front {
        transform: rotateZ(180deg) translateZ(100px) translateX(1px) translateY(1px);
      }
      .axis.behind {
        transform: rotateX(180deg) rotateZ(90deg) translateZ(100px) translateX(1px) translateY(1px);
      }
      .axis.left {
        transform: rotateY(90deg) translateY(-1px) translateZ(-100px) rotateX(180deg) translateZ(1px);
      }
      .axis.right {
        transform: rotateY(90deg) translateY(-1px) translateZ(-99px);
      }
      .axis.bottom {
        transform: rotateX(90deg) rotateZ(90deg) translateZ(1px) rotateY(180deg) translateZ(1px) translateY(100px);
      }
      .axis.top {
        transform: rotateX(90deg) rotateZ(90deg) translateZ(2px) translateY(100px);
      }

      .cube_1.face {
        width: 100px;
        height: 100px;
      }
      .cube_1.front {
        transform: translateZ(50px);
        background-color: cyan;
      }
      .cube_1.behind {
        transform: rotateY(180deg) translateZ(50px);
        background-color: deepskyblue;
      }
      .cube_1.left {
        transform: rotateY(90deg) translateZ(50px);
        background-color: darkseagreen;
      }
      .cube_1.right {
        transform: rotateY(-90deg) translateZ(50px);
        background-color: firebrick;
      }
      .cube_1.bottom {
        transform: rotateX(90deg) translateZ(50px);
        background-color: chocolate;
      }
      .cube_1.top {
        transform: rotateX(-90deg) translateZ(50px);
        background-color: azure;
      }
    </style>
  </head>
  <body>
    <div id="containers">

      <div class="box glb_box">
        <div class="corneranimation">
          <span class="corner_before"></span>
          <span class="corner_after"></span>
        </div>
        <div class="box_header">
          <span class="header_text">Random figure generator</span>
        </div>
        <div class="input_container">
          <div class="input_box">
            <span class="input_header"># random numbers</span>
            <input type="number" class="input" id="figures_amount">
          </div>
          <div class="input_box">
            <span class="input_header"># after comma</span>
            <input type="number" class="input" id="figures_aftercomma">
          </div>
          <div class="input_box">
            <span class="input_header">Start value</span>
            <input type="number" class="input" id="figures_start">
          </div>
          <div class="input_box">
            <span class="input_header">End value</span>
            <input type="number" class="input" id="figures_end">
          </div>
          <div class="input_box">
            <span class="input_header">Append mode</span>
            <span class="input appendbutton knobber" id="figures_append" onclick="toggleRandomMode()">
              <span class="knob"></span>
            </span>
          </div>
          <div class="input_box button" onclick="randomNumber()">
            <span class="input_header">Go!</span>
          </div>
        </div>
        <div class="function text_function" id="function_1"></div>
      </div>

      <div class="box glb_box">
        <div class="corneranimation">
          <span class="corner_before"></span>
          <span class="corner_after"></span>
        </div>
        <div class="box_header">
          <span class="header_text">3D Magic</span>
        </div>
        <div class="input_container">
          <div class="input_box">
            <span class="input_header">Rotate Magic</span>
            <span class="input slider rotate knobber" id="cubes_rotate_slider">
              <span class="knob" id="rotate_slider_knob" style="transform: translateX(325px);"></span>
            </span>
          </div>
          <div class="input_box">
            <span class="input_header">X-Axis</span>
            <span class="input x axisbutton knobber active" id="toggle_axis_x" onclick="toggleAxisX()">
              <span class="knob"></span>
            </span>
          </div>
          <div class="input_box">
            <span class="input_header">Y-Axis</span>
            <span class="input y axisbutton knobber active" id="toggle_axis_y" onclick="toggleAxisY()">
              <span class="knob"></span>
            </span>
          </div>
          <div class="input_box">
            <span class="input_header">Z-Axis</span>
            <span class="input z axisbutton knobber active" id="toggle_axis_z" onclick="toggleAxisZ()">
              <span class="knob"></span>
            </span>
          </div>
          <!--div class="input_box">
            <span class="input_header">Translucent axes</span>
            <span class="input translucentbutton knobber" id="axes_translucent" onclick="toggleTranslucentAxes()">
              <span class="knob"></span>
            </span>
          </div-->
        </div>
        <div class="box_content">
          <div class="wrapper_3d container_3d" id="function_2" style="transform: rotate3d(1, 1, 1, 325deg);">
            <div class="axes_container container_3d">
              <div class="axes_x container_3d">
                <span class="face axis end front"></span>
                <span class="face axis end behind"></span>
                <span class="face axis side top"></span>
                <span class="face axis side bottom"></span>
                <span class="face axis side left"></span>
                <span class="face axis side right"></span>
              </div>
              <div class="axes_y container_3d">
                <span class="face axis end front"></span>
                <span class="face axis end behind"></span>
                <span class="face axis side top"></span>
                <span class="face axis side bottom"></span>
                <span class="face axis side left"></span>
                <span class="face axis side right"></span>
              </div>
              <div class="axes_z container_3d">
                <span class="face axis end front"></span>
                <span class="face axis end behind"></span>
                <span class="face axis side top"></span>
                <span class="face axis side bottom"></span>
                <span class="face axis side left"></span>
                <span class="face axis side right"></span>
              </div>
            </div>
            <div class="function container_3d">
              <span class="face cube_1 front"></span>
              <span class="face cube_1 behind"></span>
              <span class="face cube_1 top"></span>
              <span class="face cube_1 bottom"></span>
              <span class="face cube_1 left"></span>
              <span class="face cube_1 right"></span>
            </div>
          </div>
        </div>
      </div>

    </div>
    <script>
      var randomNumbers = "";
      var mouseState = 0;
      const masterContainer = document.getElementById('containers');

      const amount = document.getElementById('figures_amount');
      const start = document.getElementById('figures_start');
      const end = document.getElementById('figures_end');
      const aftercomma = document.getElementById('figures_aftercomma');

      const buttonAppend = document.getElementById('figures_append');
      const buttonAxisX = document.getElementById('toggle_axis_x');
      const buttonAxisY = document.getElementById('toggle_axis_y');
      const buttonAxisZ = document.getElementById('toggle_axis_z');

      const rotateSlider = document.getElementById('cubes_rotate_slider');
      const rotateSliderKnob = document.getElementById('rotate_slider_knob');
      const figuresOutput = document.getElementById('function_1');
      const output3D = document.getElementById('function_2');
      window.addEventListener('mousedown', down);
      window.addEventListener('mouseup', up);
      rotateSlider.addEventListener('mousemove', movingRotateSlider);
      rotateSlider.addEventListener('mousedown', rotateSliderClick);
      function down() {
        mouseState++;
      }
      function up() {
        mouseState--;
      }
      function randomNumber() {
        let valueAmount = parseInt(amount.value);
        let valueStart = parseInt(start.value);
        let valueEnd = parseInt(end.value);
        let valueAftercomma = parseInt(aftercomma.value);
        let valueLength = valueEnd - valueStart;
        if (!buttonAppend.classList.contains('active')) {
          randomNumbers = "";
          figuresOutput.innerHTML = '';
        }
        for (var i = 0; i < valueAmount; i++) {
          randomNumbers += '<span>' + (valueLength*Math.random() + valueStart).toFixed(valueAftercomma) + '</span>';
        }
        figuresOutput.innerHTML = randomNumbers;
      }
      function toggleRandomMode() {
        buttonAppend.classList.toggle('active');
      }
      function toggleAxisX() {
        buttonAxisX.classList.toggle('active');
      }
      function toggleAxisY() {
        buttonAxisY.classList.toggle('active');
      }
      function toggleAxisZ() {
        buttonAxisZ.classList.toggle('active');
      }
      //function toggleTranslucentAxes() {
      //  document.body.classList.toggle('translucentaxes');
      //}
      function movingRotateSlider(e) {
        if (!mouseState) {
          return;
        }
        const rect = this.getBoundingClientRect();
        var x = 1;
        var y = 1;
        var z = 1;
        let range = e.x - rect.left - 12;
        if (range < 0) {
          range = 0;
        }
        else if (range > 360) {
          range = 360;
        }
        if (!buttonAxisX.classList.contains('active')) {
          x = 0;
        }
        if (!buttonAxisY.classList.contains('active')) {
          y = 0;
        }
        if (!buttonAxisZ.classList.contains('active')) {
          z = 0;
        }
        output3D.style.transform = 'rotate3d(' + x + ', ' + y + ', ' + z + ', ' + range + 'deg)';
        rotateSliderKnob.style.transform = 'translateX(' + range + 'px)';
      }
      function rotateSliderClick(e) {
        const rect = this.getBoundingClientRect();
        var x = 1;
        var y = 1;
        var z = 1;
        let range = e.x - rect.left - 12;
        if (range < 0) {
          range = 0;
        }
        else if (range > 360) {
          range = 360;
        }
        if (!buttonAxisX.classList.contains('active')) {
          x = 0;
        }
        if (!buttonAxisY.classList.contains('active')) {
          y = 0;
        }
        if (!buttonAxisZ.classList.contains('active')) {
          z = 0;
        }
        output3D.style.transform = 'rotate3d(' + x + ', ' + y + ', ' + z + ', ' + range + 'deg)';
        rotateSliderKnob.style.transform = 'translateX(' + range + 'px)';
      }
    </script>
  </body>
</html>
